# Default server block for API Gateway
# This is the main entry point that includes all location blocks

server {
    listen 80;
    server_name _;

    # Include all location blocks (order matters!)
    # Most specific routes first, catch-all last
    # Files are loaded alphabetically, so we use numbered prefixes:
    # 01-locations-api.conf (most specific - /api/*)
    # 02-locations-admin.conf (specific - /admin/*, static assets)
    # 03-locations-frontend.conf (catch-all - /*)
    include /etc/nginx/locations/*.conf;

    # Default error pages
    error_page 500 502 503 504 /50x.html;
    location = /50x.html {
        root /usr/share/nginx/html;
    }
}

